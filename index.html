<!DOCTYPE html>
<html lang="zh">
<head>
    <title>用户名</title>
    <meta charset="utf-8">
    <meta id="viewport" content="width=device-width, initial-scale=1">
    <link href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/bootstrap/5.1.3/css/bootstrap.min.css" type="text/css"
          rel="stylesheet"/>
    <script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/bootstrap/5.1.3/js/bootstrap.bundle.min.js"
            type="application/javascript"></script>
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

    <link href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/toastr.js/2.1.4/toastr.min.css" type="text/css"
          rel="stylesheet"/>
    <script src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/toastr.js/2.1.4/toastr.min.js"
            type="application/javascript"></script>
</head>
<body>

<div class="container mt-3">
    <h5>用户名</h5>
    <div action="#" class="was-validated">
        <div class="input-group mb-3">
            <input type="text" class="form-control" id="username" placeholder="请输入用户名" required>

            <button class="btn btn-primary" id="creat" onclick="creat()" type="button">生成</button>
            <button class="btn btn-danger" id="clean" onclick="clean()" type="button">清空</button>
            <div class="valid-feedback">有效的。</div>
            <div class="invalid-feedback">请填写此字段。</div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6">
            <div onclick="onclickGroup(this)">
                <h5>
                    <button class="btn btn-success" type="button">弱者安卓 点此 一键复制</button>
                </h5>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    <div class="input-group mb-4">
                        <input type="text" class="form-control" id="wzad1" data-bs-toggle="tooltip" title="太棒了！"
                               onclick="onclickInput(this)"
                               placeholder="点击生成">
                    </div>
                </div>

                <div class="col-sm-4">
                    <div class="input-group mb-4">
                        <input type="text" class="form-control" id="wzad2" data-bs-toggle="tooltip" title="太棒了！"
                               onclick="onclickInput(this)"
                               placeholder="点击生成">
                    </div>
                </div>

                <div class="col-sm-4">
                    <div class="input-group mb-4">
                        <input type="text" class="form-control" id="wzad3" data-bs-toggle="tooltip" title="太棒了！"
                               onclick="onclickInput(this)"
                               placeholder="点击生成">
                    </div>
                </div>

            </div>

        </div>
        <div class="col-sm-6">

            <div onclick="onclickGroup(this)">
                <h5>
                    <button class="btn btn-success" type="button">弱者苹果 点此 一键复制</button>
                </h5>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    <div class="input-group mb-4">
                        <input type="text" class="form-control" id="wzios1" data-bs-toggle="tooltip" title="太棒了！"
                               onclick="onclickInput(this)"
                               placeholder="点击生成">
                    </div>
                </div>

                <div class="col-sm-4">
                    <div class="input-group mb-4">
                        <input type="text" class="form-control" id="wzios2" data-bs-toggle="tooltip" title="太棒了！"
                               onclick="onclickInput(this)"
                               placeholder="点击生成">
                    </div>
                </div>

                <div class="col-sm-4">
                    <div class="input-group mb-4">
                        <input type="text" class="form-control" id="wzios3" data-bs-toggle="tooltip" title="太棒了！"
                               onclick="onclickInput(this)"
                               placeholder="点击生成">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6">

            <div onclick="onclickGroup(this)">
                <h5>
                    <button class="btn btn-success" type="button">驱逐安卓 点此 一键复制</button>
                </h5>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    <div class="input-group mb-4">
                        <input type="text" class="form-control" id="smad1" data-bs-toggle="tooltip" title="太棒了！"
                               onclick="onclickInput(this)"
                               placeholder="点击生成">
                    </div>
                </div>

                <div class="col-sm-4">
                    <div class="input-group mb-4">
                        <input type="text" class="form-control" id="smad2" data-bs-toggle="tooltip" title="太棒了！"
                               onclick="onclickInput(this)"
                               placeholder="点击生成">
                    </div>
                </div>

                <div class="col-sm-4">
                    <div class="input-group mb-4">
                        <input type="text" class="form-control" id="smad3" data-bs-toggle="tooltip" title="太棒了！"
                               onclick="onclickInput(this)"
                               placeholder="点击生成">
                    </div>
                </div>

            </div>
        </div>
        <div class="col-sm-6">

            <div onclick="onclickGroup(this)">
                <h5>
                    <button class="btn btn-success" type="button">驱逐苹果 点此 一键复制</button>
                </h5>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    <div class="input-group mb-4">
                        <input type="text" class="form-control" id="smios1" data-bs-toggle="tooltip" title="太棒了！"
                               onclick="onclickInput(this)"
                               placeholder="点击生成">
                    </div>
                </div>

                <div class="col-sm-4">
                    <div class="input-group mb-4">
                        <input type="text" class="form-control" id="smios2" data-bs-toggle="tooltip" title="太棒了！"
                               onclick="onclickInput(this)"
                               placeholder="点击生成">
                    </div>
                </div>

                <div class="col-sm-4">
                    <div class="input-group mb-4">
                        <input type="text" class="form-control" id="smios3" data-bs-toggle="tooltip" title="太棒了！"
                               onclick="onclickInput(this)"
                               placeholder="点击生成">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6">

            <div onclick="onclickGroup(this)">
                <h5>
                    <button class="btn btn-success" type="button">OLO安卓 点此 一键复制</button>
                </h5>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    <div class="input-group mb-4">
                        <input type="text" class="form-control" id="lolad1" data-bs-toggle="tooltip" title="太棒了！"
                               onclick="onclickInput(this)"
                               placeholder="点击生成">
                    </div>
                </div>

                <div class="col-sm-4">
                    <div class="input-group mb-4">
                        <input type="text" class="form-control" id="lolad2" data-bs-toggle="tooltip" title="太棒了！"
                               onclick="onclickInput(this)"
                               placeholder="点击生成">
                    </div>
                </div>

                <div class="col-sm-4">
                    <div class="input-group mb-4">
                        <input type="text" class="form-control" id="lolad3" data-bs-toggle="tooltip" title="太棒了！"
                               onclick="onclickInput(this)"
                               placeholder="点击生成">
                    </div>
                </div>

            </div>
        </div>
        <div class="col-sm-6">

        </div>
    </div>


</div>


<script>
    $(function () {
            toastr.options = messageOpts;
        }
    )

    function creat() {
        let value = $("#username").val();
        if (value === null || value.length < 1) {
            toastr.error("请填写用户名！", "生成失败！");
            return
        }
        if (value.length >= 6) {
            toastr.error("用户名不能超过5位！", "生成失败！");

        }
        setValue(value);
        // console.log(randomNum(0,value))

    }

    function clean() {
        $("input").val("");
    }

    function setValue(value) {
        let wzad = "⁠"
        let wzios = "⁠"

        let smad = "⁠"
        let smios = "⁠"

        let lolad = "⁠"


        $("#wzad1").val(splicingValue(value, wzad));
        $("#wzad2").val(splicingValue(value, wzad));
        $("#wzad3").val(splicingValue(value, wzad));


        $("#wzios1").val(splicingValue(value, wzios));
        $("#wzios2").val(splicingValue(value, wzios));
        $("#wzios3").val(splicingValue(value, wzios));

        $("#smad1").val(splicingValue(value, smad));
        $("#smad2").val(splicingValue(value, smad));
        $("#smad3").val(splicingValue(value, smad));

        $("#smios1").val(splicingValue(value, smios));
        $("#smios2").val(splicingValue(value, smios));
        $("#smios3").val(splicingValue(value, smios));

        $("#lolad1").val(splicingValue(value, lolad));
        $("#lolad2").val(splicingValue(value, lolad));
        $("#lolad3").val(splicingValue(value, lolad));

        toastr.info("生成成功！", "恭喜");

    }

    //开始拼接
    function splicingValue(value, symbol) {
        let totalLength = 6;
        let totalSymbol = totalLength - value.length;
        for (let i = 0; i < totalSymbol; i++) {
            value = insertStr(value, randomNum(0, value.length), symbol);

        }
        return value;
    }

    //范围生成随机正整数
    function randomNum(minNum, maxNum) {
        switch (arguments.length) {
            case 1:
                return parseInt(Math.random() * minNum + 1, 10);
                break;
            case 2:
                return parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10);
                break;
            default:
                return 0;
                break;
        }
    }

    //
    /**
     *  souece 原字符串 start 要截取的位置 newStr 要插入的字符
     * @param {number} start
     * @param {*} newStr
     */
    function insertStr(source, start, newStr) {
        return source.slice(0, start) + newStr + source.slice(start)
    }

    function onclickInput(obj) {
        let value = $(obj).val();
        console.log(value);
    }

    function onclickGroup(obj) {

        //获取元素，为数组
        let input1 = $(obj).siblings().children().children().children();

        let text = "";
        for (let i = 0; i < input1.length; i++) {
            if ($(input1[i]).val() === null || $(input1[i]).val().length < 1) {
                toastr.error("输入用户名点击生成！", "复制失败！");
                return
            }
            text = text + $(input1[i]).val() + "\r\n";
        }
        text = text + "随机三行，复制其中一行就可以了"
        console.log(text);
        copy(text);
    }

    //复制到粘贴板
    function copy(text) {
        // text是复制文本
        // 创建input元素
        const textarea = document.createElement('textarea')
        // 给input元素赋值需要复制的文本
        textarea.value = text
        // 将input元素插入页面
        document.body.appendChild(textarea)
        // 选中input元素的文本
        textarea.select()
        // 复制内容到剪贴板
        document.execCommand('copy')
        // 删除input元素
        document.body.removeChild(textarea)
        toastr.success("复制成功！", "恭喜");
    }

    let messageOpts = {
        "progressBar": true,
        "positionClass": "toast-bottom-full-width",// 是否显示关闭按钮

    };


</script>
</body>
</html>
